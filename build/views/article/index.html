<!DOCTYPE html>
<html>

<head lang="zh-cmn">
	<meta charset="UTF-8">
	<title>月盾</title>
	<meta name="keywords" content="霍潘,月盾,nodejs,node.js,go,golang,技术分享,个人博客">
	<meta name="description" content="霍潘的技术博客,工作经验分享,记录,月盾,nodejs,node.js,go,golang,技术分享,个人博客">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
	<meta name="baidu-site-verification" content="gjQe88t6Om" />
	<link rel="stylesheet" href="/stylesheets/style.css" />
</head>

<body>
	<% include header.html %>
	<div class="container">
		<article class="backgroud border">
			<% blogList.forEach(function(blog){%>
			<section class="blog-section">
				<div class="blog_title">
					<a href="/blogdetail/<%= blog._id%>"><%= blog.title%></a>
				</div>
				<div class="blog_sumary">
					<ul>
						<li>分类:【<a href="/?category=<%= blog.category%>"><%= blog.category%></a>】</li>
						<li>浏览【<%= blog.pv%>】</li>
						<li>评论【<%= blog.commentCount || 0%>】</li>
						<li>更新【<%= blog.createDate%>】</li>
					</ul>
				</div>
				<div>
					<p>
						<%- blog.content%>
					</p>
					<a href="/blogdetail/<%= blog._id%>" class="readall">阅读全文</a>
				</div>
			</section>
			<% })%>
			<div id="Pagination" class="pagination"><!-- 这里显示分页 --></div>
		</article>
		<% include asider.html %>
	</div>
	<% include footer.html %>
	<script src="http://apps.bdimg.com/libs/zepto/1.1.4/zepto.min.js"></script>
	<script src="/javascripts/silder.js"></script>
	<script src="/javascripts/jquery.pagination.js"></script>
	<script type="text/javascript">
		$(function(){
			var current = parseInt('<%= pageIndex%>');
			var pageSize = parseInt('<%= pageSize%>');
			var totalIndex = parseInt('<%= totalIndex%>');
			$("#Pagination").pagination(totalIndex, {
				num_edge_entries: 1, //边缘页数
				num_display_entries: 4, //主体页数
				prev_text: "« 上一页",
                next_text: "下一页 »",
				current_page: current,
				link_to: "/?pageIndex=__id__&pageSize="+pageSize+"&category=<%= category%>",
				callback: function (page_index, jq) {
					return true;
				},
				items_per_page: pageSize, //每页多少条
				load_first_page: false
			});
		});
		</script>
</body>

</html>